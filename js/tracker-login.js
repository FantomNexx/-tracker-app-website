var el_login_card;var el_login_password_input;var el_login_password_error;var el_login_email_input;var el_login_email_error;//--------------------------------------------------------------------$( document ).ready( function(){  Init();} );//ON LOAD-------------------------------------------------------------//--------------------------------------------------------------------function Init(){  el_login_card           = $( "#id-login-card" );  el_login_email_input    = $( "#id-login-email-input" );  el_login_email_error    = $( "#id-login-email-error" );  el_login_password_input = $( "#id-login-password-input" );  el_login_password_error = $( "#id-login-password-error" );  MakeLoginCentered();  SetEventHandlers();}//Init----------------------------------------------------------------function SetEventHandlers(){  SetEventHandlers_CardLogin();  SetEventHandlers_BtnLogin();}//SetEventHandlers----------------------------------------------------function SetEventHandlers_CardLogin(){  window.addEventListener( "resize", MakeLoginCentered );}//SetEventHandlers_CardLogin------------------------------------------function SetEventHandlers_BtnLogin(){  var el_btn_login = $( "#id-login-btn" );  el_btn_login.on( "click", OnClick_BtnLogin );}//SetEventHandlers_BtnLogin-------------------------------------------//--------------------------------------------------------------------function MakeLoginCentered(){  var w_card = el_login_card.width();  var h_card = el_login_card.height();  var w_wnd = window.innerWidth;  var h_wnd = window.innerHeight;  var left = (w_wnd / 2.0) - (w_card / 2.0);  var top  = ((h_wnd / 2.0) - (h_card / 2.0)) * 0.4;  el_login_card.css( "margin-left", left );  el_login_card.css( "margin-top", top );}//MakeLoginCentered---------------------------------------------------//--------------------------------------------------------------------function OnClick_BtnLogin(){  var email    = el_login_email_input.val();  var password = el_login_password_input.val();  var is_data_ok = true;  ResetInputError( el_login_email_error );  ResetInputError( el_login_password_error );  //if email emtty  if( email == "" ){    is_data_ok = false;    EnableInputError( el_login_email_error, "Введите Email" );  }//if  //if password emtty  if( password == "" ){    is_data_ok = false;    EnableInputError( el_login_password_error, "Введите пароль" );  }//if  if( !is_data_ok ){    return;  }//if  var request_data = {    user_email   : email,    user_password: password,    request      : Transport.REQUESTS.LOGIN  };  Transport.Request( request_data, OnReqSuccLogin );}//OnClick_BtnLogin----------------------------------------------------function OnReqSuccLogin( obj_reply ){  ResetInputError( el_login_email_error );  ResetInputError( el_login_password_error );  switch( obj_reply.reply ){    case Transport.REPLIES.SUCCESS:      ShowToast( "Входим в Трекер", 1000 );      setTimeout( function(){        window.location = "http://fantomsoftware.com/fantom_tracker/tracker-index.html";      }, 1000 );      break;    case Transport.REPLIES.USER_EMAIL_NFOUND:      EnableInputError( el_login_email_error, "Такого пользователя нет" );      break;    case Transport.REPLIES.USER_PASSWORD_NMATCH:      EnableInputError( el_login_password_error, "Пароль не подошел" );      break;  }//switch}//OnReqSuccLogin----------------------------------------------//--------------------------------------------------------------------function ShowSnackBar( msg, timeout ){  if( timeout == undefined ){    timeout = 1000;  }//if  var notification = document.querySelector( '.mdl-js-snackbar' );  var data = {    message      : msg,    timeout      : timeout,    actionHandler: function( event ){    },    actionText   : 'Undo'  };//data  notification.MaterialSnackbar.showSnackbar( data );}//ShowSnackBar--------------------------------------------------------//--------------------------------------------------------------------function ShowToast( msg, timeout ){  if( timeout == undefined ){    timeout = 1000;  }//if  var notification = document.querySelector( '.mdl-js-snackbar' );  notification.MaterialSnackbar.showSnackbar(    {      message: msg,      timeout: timeout    }  );}//ShowSnackBar--------------------------------------------------------//--------------------------------------------------------------------function EnableInputError( el, error_str ){  el.text( error_str );  el.css( "visibility", "visible" );}//EnableInputError----------------------------------------------------function ResetInputError( el ){  el.css( "visibility", "hidden" );}//ResetInputError-----------------------------------------------------